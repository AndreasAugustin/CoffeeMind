(function(){var r;r="undefined"!=typeof exports&&null!==exports?exports:window,r.coffeeMind=r.coffeeMind||{},r.coffeeMind.board=function(){var n,o,t,u,e,i,f,l,c,a,s,v,g,h,C,d,p,w,M,b,m,x,N,P;return P={},l=0,x=0,t=0,d=0,n=!1,f=[],g=[],o=0,a=0,h=function(u){return P=r.settings,x=P.rows,l=P.cols,o=P.availableColours,t=P.baseScore,d=P.numColors,n=P.allowMultipleColors,a=x-1,N(),c(),u(),null},b=function(r){return h(r),null},N=function(){var r,o,t;for(o=t=0;l>=0?l>t:t>l;o=l>=0?++t:--t){if(r=M(),n!==!0)for(;m(g,r)===!1;)r=M();g[o]=r}return null},m=function(r,n){var o,t,u,e;if(r)for(t=r.length,o=l>t?t:l,u=e=0;o>=0?o>e:e>o;u=o>=0?++e:--e)if(r[u]===n)return!1;return!0},M=function(){var r;return r=Math.floor(Math.random()*o)},c=function(){var r,n,o,t,u;for(r=[],o=t=0;x>=0?x>t:t>x;o=x>=0?++t:--t)for(r[o]=[],n=u=0;l>=0?l>u:u>l;n=l>=0?++u:--u)r[o][n]=-1;return f=r,null},w=function(){var r,n,o;for(r="",n=o=0;l>=0?l>o:o>l;n=l>=0?++o:--o)r+=g[n],r+="\r\n";return console.log(r),null},i=function(r){var n,o,t,u,e,i,c,s;for(n=0,o=0,t=i=0;l>=0?l>i:i>l;t=l>=0?++i:--i)if(-1===f[r][t])return{rightPosition:-1,rightColor:-1,rowNumber:r};for(e=c=0;l>=0?l>c:c>l;e=l>=0?++c:--c)for(u=s=0;l>=0?l>s:s>l;u=l>=0?++s:--s)f[r][e]===g[u]&&(e===u?o++:n++);return a--,{rightPosition:o,rightColor:n,rowNumber:r}},e=function(){return i(a)},v=function(){var r,n,o;for(r=[],n=o=0;l>=0?l>o:o>l;n=l>=0?++o:--o)r[n]=g[n];return r},C=function(r,n){return u(r,n,1)},p=function(r,n){return u(r,n,-1)},u=function(r,t,u){var e,i,c,s;if(r===l)return-1;if(t!==a)return-2;if(i=f[t][r],c=i+u,-1>c)return f[t][r]=-1,-1;if(c>=o)return f[t][r]=-1,f[t][r];if(0>c)return f[t][r]=o(-1),f[t][r];if(n!==!0)for(s=i;m(f[t],s)!==!0;)if(s++,s>=o)return f[t][r]=-1,f[t][r];return f[t][r]=s,e=f[t][r]},s=function(r,n){var o;return o=f[n][r]},{init:h,print:w,getSolution:v,nextColor:C,previousColor:p,checkColors:e,reset:b,getColor:s}}()}).call(this);