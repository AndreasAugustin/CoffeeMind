(function(){var e,o;o="undefined"!=typeof exports&&null!==exports?exports:window,e=jQuery,o.coffeeMind=function(){var s,r,n,l,a,t,i,c,d,g,p,u,m,f,h,v,C,E,j,S;return E=o.srcPath,j="loader!"+E+"scripts/storage.js",S="loader!"+E+"scripts/storage.cookie.js",v="loader!"+E+"scripts/screen.splash.js",p="loader!"+E+"scripts/screen.install.js",l="loader!"+E+"scripts/game.js",r="loader!"+E+"scripts/board.js",g="loader!"+E+"scripts/input.js",u="loader!"+E+"scripts/screen.main-menu.js",n="loader!"+E+"scripts/display.canvas.js",a="loader!"+E+"scripts/screen.game.js",s="loader!"+E+"scripts/screen.about.js",i="loader!"+E+"scripts/screen.highscore.js",C={rows:10,cols:4,baseScore:100,numColors:4,availableColours:6,allowMultipleColors:!1,imageSize:void 0,baseLevelTimer:12e4,baseLevelScore:1500,baseLevelExp:1.05,controls:{KEY_UP:"nextColor",KEY_LEFT:"moveLeft",KEY_DOWN:"previousColor",KEY_RIGHT:"moveRight",KEY_ENTER:"checkColors",KEY_ESCAPE:"resetBoard",KEY_SPACE:"getSolution",CLICK:"nextColor",TOUCH:"nextColor"},images:{},srcPath:E},o.settings=C,Modernizr.addTest("standalone",function(){var e;return e=o.navigator.standalone!==!1,console.log("Standalone test: "+e),e}),yepnope.addPrefix("preload",function(e){return e.noexec=!0,console.log("preload: "+e.url),e}),f=0,m=0,yepnope.addPrefix("loader",function(e){var o,s;return console.log("Loading: "+e.url),s=/.+\.(jpg|png|gif)$/i.test(e.url),e.noexec=s,f++,e.autoCallback=function(){},console.log("Finished loading: "+e.url),m++,s&&(o=new Image,o.src=e.url,C.images[e.url]=o),e}),c=document.getElementById("image-proto"),h=c.getBoundingClientRect(),console.log("proto-image bounding width (px):"+h.width),C.imageSize=h.width,t=function(){return f>0?m/f:0},console.log("started loading stage 1"),Modernizr.load({test:Modernizr.localstorage,yep:j,nope:S}),Modernizr.load({load:[l],test:Modernizr.standalone,yep:v,nope:p,complete:function(){return o.coffeeMind.game.setup(C,e),Modernizr.standalone?(o.coffeeMind.game.showScreen("splash-screen",t),console.log("showScreen: splash-screen")):(o.game.showScreen("install-screen"),console.log("showScreen: install-screen")),console.log("stage 1 loaded")}}),console.log("started loading stage 2"),d="loader!"+E+"images/forms_"+C.imageSize+".png",Modernizr.standalone?Modernizr.load({load:[r,g,u,n,a,d,s,i],complete:function(){return console.log("stage 2 loaded")}}):void 0}()}).call(this);